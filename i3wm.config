### Defines ###
set $Screenshot ~/.config/scripts/screenshot
set $VolumeSink 0
set $Debug /usr/local/bin/st
set $Terminal /usr/bin/terminator
set $Locker ~/.config/scripts/i3blurlock
set $Brightness ~/.config/scripts/brightctl
set $DMenuMount ~/.config/scripts/dmenumount
set $DMenuUnMount ~/.config/scripts/dmenumount
set $Displayselect ~/.config/scripts/displayselect
set $DMEMU_Calc ~/.config/scripts/dmenu-calc
set $Spotlight "rofi -combi-modi drun,run -show combi -modi combi"

### -=- Autostart -=- ###
exec feh --bg-scale ~/.config/i3/background.jpg
exec xset r rate 400 40

exec nm-applet
exec blueman-applet

exec xautolock -time 5 -locker $Locker
exec xautolock -time 10 -locker fuzzy_lock -notify 20 -notifier 'xset dpms force off' &
exec xautolock -time 20 -locker "systemctl suspend" &

exec terminator -r dropdown
exec terminator -r vpn

### -=- BASICS -=- ###

# Set mod keys

# alt key
set $mod Mod1
# windows key
#set $mod Mod4

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod 

### -=- Multi Media Controls -=- ###
#
# Pulse Audio controls
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute $VolumeSink toggle && pkill -RTMIN+2 i3blocks 
bindsym XF86AudioRaiseVolume exec amixer set Master -q 2%+ && pkill -RTMIN+2 i3blocks 
bindsym XF86AudioLowerVolume exec amixer set Master -q 2%- && pkill -RTMIN+2 i3blocks 

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec sudo $Brightness up && pkill -RTMIN+3 i3blocks
bindsym XF86MonBrightnessDown exec sudo $Brightness down && pkill -RTMIN+3 i3blocks


### -=- Configure Look -=- ###

# Display
for_window [class="^.*"] border pixel 0
gaps inner 5
gaps outer 5

# Dropdowns
for_window [window_role="dropdown"] floating enable
for_window [window_role="dropdown"] resize set 625 400
for_window [window_role="dropdown"] move scratchpad
for_window [window_role="dropdown"] border pixel 5

for_window [window_role="vpn"] floating enable
for_window [window_role="vpn"] resize set 625 400
for_window [window_role="vpn"] move scratchpad
for_window [window_role="vpn"] border pixel 5

# Floating windows
for_window [class="Gnome-calculator" instance="gnome-calculator"] floating enable

# Auto Assign to Workspaces
for_window [class="Evolution"] move to workspace 14
for_window [class="Evolution" instance="Calendar - Evolution"] move to workspace 15
for_window [class="Slack"] move to workspace 12

# Font for window titles.
font pango:monospace 8

# Status bar
bar {
        position top
        status_command i3blocks -c ~/.config/i3blocks/i3blocks.conf
}

### -=- Custom Bindings -=-

# split to start terminal
bindsym $mod+e exec $Debug
bindsym $mod+d split h; exec $Terminal
bindsym $mod+Shift+d split v; exec $Terminal

# Dropdowns
bindsym $mod+u [window_role="dropdown"] scratchpad show; [window_role="dropdown"] move position center
bindsym $mod+y [window_role="vpn"] scratchpad show; [window_role="vpn"] move position center

# Take screenshot
bindsym --release $mod+Shift+i exec $Screenshot

# kill focused window
bindsym $mod+q kill

# start spotlight like instance
bindsym $mod+space exec $Spotlight

# Chrome
bindsym $mod+g exec google-chrome

# Firefox
bindsym $mod+f exec firefox

# Dmenu Calculator
bindsym $mod+k exec $DMEMU_Calc

# Mount drive
bindsym $mod+m exec $DMenuMount
bindsym $mod+Shift+m exec $DMenuUnMount

# Display select
bindsym $mod+Shift+o exec $Displayselect

# Move workspace to Display
bindsym $mod+p move workspace to output eDP-1
bindsym $mod+Shift+p move workspace to output DP-1

# Open performance settings
bindsym  $mod+s exec cd ~/personal/code/TLPUI && sudo python3 -m tlpui

### -=- Modes -=-

set $mode_system System (c) reload (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locker, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id $Locker && systemctl suspend, mode "default"
    bindsym h exec --no-startup-id $Locker && systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id  systemctl poweroff -i, mode "default"
    bindsym c reload
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+l mode "$mode_system"

set $video_output Video Mode: [1] Laptop only [2] Rooster Vert [3] Zenscreen Right (escape/return to cancel)
bindsym $mod+o mode "$video_output"
mode "$video_output" {
       bindsym 1 exec ~/.screenlayout/Laptop-Only.sh
       bindsym 2 exec ~/.screenlayout/Rooster\ Vert.sh
       bindsym 3 exec ~/.screenlayout/Zenscreen\ Right.sh

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

set $resize_launcher Resize: up/down/left/right
# Resize
bindsym $mod+r mode "$resize_launcher"

# resize window (you can also use the mouse for that)
mode "$resize_launcher" {
        # These bindings trigger as soon as you enter the resize mode

        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Right resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Left resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}


### -=- Standard Bindings -=-

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+Shift+f fullscreen toggle

# focus the parent container
bindsym $mod+a focus parent

### -=- Workspace shortcuts -=- ###

# switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10
bindsym $mod+F1 workspace number 11
bindsym $mod+F2 workspace number 12
bindsym $mod+F3 workspace number 13
bindsym $mod+F4 workspace number 14
bindsym $mod+F5 workspace number 15
bindsym $mod+F6 workspace number 16
bindsym $mod+F7 workspace number 17
bindsym $mod+F8 workspace number 18
bindsym $mod+F9 workspace number 19

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10
bindsym $mod+Shift+F1 move container to workspace number 11
bindsym $mod+Shift+F2 move container to workspace number 12
bindsym $mod+Shift+F3 move container to workspace number 13
bindsym $mod+Shift+F4 move container to workspace number 14
bindsym $mod+Shift+F5 move container to workspace number 15
bindsym $mod+Shift+F6 move container to workspace number 16
bindsym $mod+Shift+F7 move container to workspace number 17
bindsym $mod+Shift+F8 move container to workspace number 18
bindsym $mod+Shift+F9 move container to workspace number 19
